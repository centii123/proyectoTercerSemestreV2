<app-ventas>
<div class="contenedor">
    <div class="alert">
        <h3 [ngClass]="{'cancelado': cancelado === 'Info! Su pedido se ha cancelado.', 'comprado': comprado === 'Su compra se ha realizado con exito'}">{{cancelado}}{{comprado}}</h3>
    </div>
    <!--<nav class="nav"> 
    </nav>-->
    <main class="main">
        <div class="ventas">
            <h3>Ventas</h3>
        </div>
        <div class="datos">
            <input type="text" class="cedula" placeholder="Cedula" readonly="false" [value]="cedula_cliente">
            <input type="text" class="cliente" placeholder="Cliente" readonly="false" [value]="nombre_cliente">
        </div>
        <div class="buscar">
            <input type="text" placeholder="Buscar producto" [value]="serch" #guardarLocalStorage (keyup)="busqueda($event)" >

            <div class="buscadorProduct" > 
                <div *ngIf="serch">
                    <div *ngIf="!productos.message else mas">
                        <div *ngFor="let a of productos">
                            <div *ngIf="a.nombre_p">
                             <li class="selector" value="{{a.id_prod}}" (click)="selectP($event)" >{{a.nombre_p}} {{a.stock}}</li>     
                            </div>                    
                        </div>
                    </div> 
                    <ng-template #mas>
                        
                        <div>no encontrado</div>   
                    </ng-template>
                        
                </div>
                    

                    

                
            </div>
        </div>
        <div class="table">
            <table class="tabla">
                <thead class="cabecera">
                    <tr>
                        <th>Cedula</th>
                        <th>Cantidad</th>
                        <th>Productos</th>
                        <th>Precio</th>
                        <th>Eliminar</th>
                    </tr>
                </thead>
                <tbody class="cuerpo">
                    
                        <tr *ngFor="let i of facturaProductos" >
                                <td id="idproduct">{{i.id_prod}}</td>
                                <td class="centrar"><input  type="number" value="{{i.cantidades}}"  (change)="numas($event)" class="cantidad" min="1"></td>
                                <td>{{i.nombre_p}}</td>
                                <td>{{i.total}}</td>
                                <td><button class="cancelar eliminar" (click)="eliminar($event)">Eliminar</button></td>
                        </tr>
                </tbody>
            </table>

        </div>
        <div class="parte2">
            <table class="table1">
                <thead class="thead1">
                    <tr>
                    <tr>
                        <th>Total</th>
                        <td class="tota">{{totales()}}</td>
                    </tr>

                </thead>
                <tbody class="tbody1">

                    <th>Forma de pago:</th>
                    <th> <select name="pago" id="" class="pago">
                            <option value="efectivo">Efectivo</option>
                            <option value="tarjeta">Tarjeta</option>
                        </select>
                    </th>
                </tbody>
            </table>

        </div>
        {{ selectProducts | json }}
        <div class="compra">
            <input type="submit" value="Comprar" class="comprar" (click)="sape()">
            <input type="submit" value="Cancelar" class="cancelar" (click)="cancelar()">
        </div>
  
    </main> 

    <!--<footer class="footer">
    </footer>-->
</div>

</app-ventas>

